# UIライブラリ選定について

> **Note**
> 本ドキュメントはUIライブラリの選択指針を示したものです。
> プロジェクトの要件に応じて最適なライブラリを選択してください。

## はじめに

React開発において、UIライブラリの選択は開発効率とプロダクトの将来性を大きく左右します。本ドキュメントでは、UIライブラリの種類と特徴を解説し、選択の判断基準を明確にします。

---

## UIライブラリの3つのタイプ

現在のUIライブラリは、大きく3つのタイプに分類できます。

```
┌─────────────────────────────────────────────────────────────────┐
│                                                                 │
│  Headless UI ◄──────► ShadCN/UI ◄──────► スタイル付きライブラリ  │
│  (高自由度・高コスト)   (バランス型)     (高効率・低柔軟性)        │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 1. Headless UIライブラリ

### 代表例

- Radix UI
- Headless UI
- React Aria

### 特徴

スタイルを持たず、コンポーネントの**振る舞い（機能）のみ**を提供するライブラリ

### メリット

| メリット                 | 説明                                           |
| ------------------------ | ---------------------------------------------- |
| 完全な設計自由度         | デザインシステムに合わせた自由なスタイリング   |
| アニメーション実装が容易 | 制約のない表現力                               |
| 高品質なUI構築           | ブランドに合わせたオリジナリティの高いデザイン |

### デメリット

| デメリット     | 説明                                     |
| -------------- | ---------------------------------------- |
| 高い初期コスト | 全てのスタイリングを一から実装           |
| 開発速度の低下 | プロトタイピングや初期開発に時間がかかる |

### 実装例

```tsx
// Radix UIの例 - スタイルは一切含まれない
import * as Dialog from '@radix-ui/react-dialog';

<Dialog.Root>
  <Dialog.Trigger className="your-custom-trigger-styles">Open Dialog</Dialog.Trigger>
  <Dialog.Content className="your-custom-content-styles">
    {/* 全てのスタイリングを自分で定義 */}
  </Dialog.Content>
</Dialog.Root>;
```

---

## 2. スタイル付きUIライブラリ

### 代表例

- Material-UI (MUI)
- Chakra UI
- Ant Design
- HeroUI

### 特徴

スタイルと機能を**両方とも提供**する、従来型のUIライブラリ

### メリット

| メリット       | 説明                                                       |
| -------------- | ---------------------------------------------------------- |
| 即座に使える   | インストール後すぐに見た目の整ったコンポーネントが利用可能 |
| 開発速度の向上 | プロトタイピングやMVP開発に最適                            |
| バリアント対応 | ライブラリが提供する範囲でのカスタマイズが可能             |

### デメリット

| デメリット             | 説明                                     |
| ---------------------- | ---------------------------------------- |
| スタイルの制約         | 提供されたデザインからの大幅な変更が困難 |
| 深いカスタマイズの限界 | 独自デザインの実現が難しい               |
| ベンダーロックイン     | ライブラリへの強い依存関係               |

### 実装例

```tsx
// スタイル付きライブラリの例 - 既にスタイルが適用済み
import { Select, SelectItem } from '@heroui/react';

<Select placeholder="選択してください">
  <SelectItem key="option1">オプション1</SelectItem>
  <SelectItem key="option2">オプション2</SelectItem>
</Select>;
```

### 何が問題か？

- 既に適用されたスタイルを変更するには`!important`などの力技が必要
- ライブラリのアップデートでスタイルが変更されるリスク
- デザインシステムとの乖離が生じやすい

---

## 3. 中間的存在：ShadCN/UI

### 代表例

- ShadCN/UI
- Justd

### 特徴

**Headless UI + 事前定義スタイル**のハイブリッドアプローチ

---

## ShadCN/UIが「最適解」である理由

### 技術的な独自性

#### 1. 基盤技術の選択

| 技術         | 役割                                             |
| ------------ | ------------------------------------------------ |
| Radix UI     | 堅牢なアクセシビリティとキーボードナビゲーション |
| Tailwind CSS | ユーティリティファーストによる柔軟なスタイリング |
| TypeScript   | 型安全性とDX（開発者体験）の向上                 |

#### 2. Copy & Pasteアプローチの革新性

従来の`npm install`とは異なる、**コード所有権重視**のアプローチ：

```bash
# 従来のライブラリ
npm install some-ui-library

# ShadCN/UI
npx shadcn-ui@latest add button
```

**このアプローチにより：**

- コンポーネントコードを完全に所有
- 必要に応じた段階的カスタマイズが可能
- ライブラリ依存からの解放

#### 3. 段階的カスタマイズの実現

**フェーズ1: 高速プロトタイピング**

```tsx
// そのまま使用 - スタイル付きライブラリ並みの速度
import { Button } from '@/components/ui/button';

<Button>クリック</Button>;
```

**フェーズ2: 軽微なカスタマイズ**

```tsx
// Tailwindクラスで調整
<Button className="bg-purple-600 hover:bg-purple-700">カスタムボタン</Button>
```

**フェーズ3: 本格的なカスタマイズ**

```tsx
// コンポーネント自体を編集（所有しているため自由）
// components/ui/button.tsx を直接修正
```

---

## 開発体験（DX）の比較

| 項目             | Headless UI | ShadCN/UI     | スタイル付きライブラリ |
| ---------------- | ----------- | ------------- | ---------------------- |
| 初期開発速度     | 🔴 遅い     | 🟢 速い       | 🟢 速い                |
| カスタマイズ性   | 🟢 完全自由 | 🟢 段階的対応 | 🔴 制限あり            |
| 学習コスト       | 🔴 高い     | 🟡 中程度     | 🟢 低い                |
| 保守性           | 🟡 設計次第 | 🟢 良好       | 🔴 ライブラリ依存      |
| アップデート影響 | 🟢 なし     | 🟢 選択的     | 🔴 強制的              |

---

## リスク回避の観点

### 1. ベンダーロックイン回避

| 観点                 | ShadCN/UIの対応                                |
| -------------------- | ---------------------------------------------- |
| コード所有           | すべてのコンポーネントを自プロジェクト内に保持 |
| 選択的アップデート   | 必要な更新のみを適用可能                       |
| ライブラリ終了リスク | 基盤のRadix UIとTailwindが継続する限り安全     |

### 2. 長期的な保守性

| 観点           | ShadCN/UIの対応                  |
| -------------- | -------------------------------- |
| 段階的移行     | 既存コンポーネントを少しずつ改善 |
| 技術債務の管理 | 必要な部分のみリファクタリング   |
| チーム開発     | 一貫したコーディング規約の維持   |

---

## ライブラリ選択のフローチャート

```
プロジェクト開始
    │
    ▼
┌─────────────────────────────┐
│ デザインシステムが既に存在？ │
└─────────────────────────────┘
    │
    ├─ Yes ──► 独自性が高い？
    │              │
    │              ├─ Yes ──► Headless UI
    │              │
    │              └─ No ───► ShadCN/UI（カスタマイズ）
    │
    └─ No ───► 開発速度優先？
                   │
                   ├─ Yes ──► スタイル付きライブラリ or ShadCN/UI
                   │
                   └─ No ───► ShadCN/UI（段階的カスタマイズ）
```

---

## まとめ：ShadCN/UIの価値提案

ShadCN/UIが選ばれる理由は、開発の各フェーズで最適な選択肢を提供することにあります。

### 短期的価値

- スタイル付きライブラリ並みの開発速度
- 美しいデフォルトデザイン
- TypeScriptとの完全統合

### 中期的価値

- 段階的なカスタマイズ対応
- デザインシステムとの統合
- チーム開発での一貫性

### 長期的価値

- ベンダーロックインからの解放
- 技術的負債の管理
- 将来的な要件変更への対応力

---

## 結論

ShadCN/UIは、「**開発速度**」と「**カスタマイズ性**」という従来トレードオフだった要素を、時間軸を考慮したアプローチで両立させた革新的なソリューションです。

プロジェクトの要件と将来性を考慮して、最適なUIライブラリを選択してください。

---

## 参考資料

- [ShadCN/UI 公式ドキュメント](https://ui.shadcn.com/)
- [Radix UI 公式ドキュメント](https://www.radix-ui.com/)
- [Tailwind CSS 公式ドキュメント](https://tailwindcss.com/)
